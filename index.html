
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>초안연구소 | Draft Lab</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>초안연구소 | Draft Lab</h1>
  <div id="category-buttons" class="tag-buttons"></div>
  <div id="prompt-container" class="prompt-grid"></div>
  <script>
    fetch('prompts.json').then(res=>res.json()).then(prompts=>{
      const container=document.getElementById("prompt-container");
      const categories=[...new Set(prompts.map(p=>p["카테고리"]))];
      categories.unshift("전체보기");

      categories.forEach(cat=>{
        const btn=document.createElement("button");
        btn.textContent=cat;
        btn.className="tag-button";
        btn.onclick=()=>{
          document.querySelectorAll(".tag-button").forEach(b=>b.classList.remove("active"));
          btn.classList.add("active");
          renderButtons(cat);
        };
        document.getElementById("category-buttons").appendChild(btn);
      });

      function renderButtons(category){
        container.innerHTML="";
        prompts.filter(p=>category==="전체보기"||p["카테고리"]===category)
        .forEach(p=>{
          const btn=document.createElement("div");
          btn.className="prompt-button";
          btn.setAttribute("data-category", p["카테고리"]);
          btn.textContent=p["버튼제목"];
          btn.onclick=()=>navigator.clipboard.writeText(p["프롬프트"]);
          container.appendChild(btn);
        });
      }
      renderButtons("전체보기");
    });
  </script>
</body>
</html>
